<!doctype html>
<html lang="en">
  <head>
    {% load staticfiles %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script> 
    <script>
      $(document).ready(function() {
        $("#realtimenode1").load('/datamqttnode1');
            var refreshId = setInterval(function() {
                $("#realtimenode1").load('/datamqttnode1');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <script>
      $(document).ready(function() {
        $("#realtimenode2").load('/datamqttnode2');
            var refreshId = setInterval(function() {
                $("#realtimenode2").load('/datamqttnode2');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <script>
      $(document).ready(function() {
        $("#devicecstatus1").load('/device_status_1');
            var refreshId = setInterval(function() {
                $("#devicecstatus1").load('/device_status_1');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <script>
      $(document).ready(function() {
        $("#devicecstatus2").load('/device_status_2');
            var refreshId = setInterval(function() {
                $("#devicecstatus2").load('/device_status_2');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <script>
      $(document).ready(function() {
        $("#devicecstatus3").load('/device_status_3');
            var refreshId = setInterval(function() {
                $("#devicecstatus3").load('/device_status_3');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <script>
      $(document).ready(function() {
        $("#devicecstatus4").load('/device_status_4');
            var refreshId = setInterval(function() {
                $("#devicecstatus4").load('/device_status_4');
          }, 200);
          $.ajaxSetup({ cache: false });
      });
    </script>
    <title>Realtime Data</title>
  </head>
  <body class="container-fluid" style="min-height: 100%;background-color: #FFFFFF;">
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #00CCFF">
      <div class="container-fluid">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/">Home</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="/Realtime">Realtime Data</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="/admin">Login</a>
          </li>
        </ul>
      </div>
    </nav>
    <div class="content-data">
      <div class="container">
        <center><h1 class="display-4">Realtime Data From Nodes</h1></center>
        <div class="col-sm-12">
          <div class="container-fluid">
            <div id="realtimenode1"> 
            </div>
            <div class="row">          
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnondevicenode1';">Turn on device 1</button>
              </div>
              <div class="col-sm-2">
                <div id="devicecstatus1"> 
                </div>
              </div>          
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnoffdevicenode1';">Turn off device 1</button>
              </div>
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnondevicenode1_2';">Turn on device 2</button>
              </div>
              <div class="col-sm-2">
                <div id="devicecstatus2"> 
                </div>
              </div>          
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnoffdevicenode1_2';">Turn off device 2</button>
              </div>
            </div>
            <center><hr class="container" style="width: 50%;"></center>
            <div id="realtimenode2"> 
            </div> 
            <div class="row">          
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnondevicenode2';">Turn on device 3</button>
              </div>
              <div class="col-sm-2">
                <div id="devicecstatus3"> 
                </div>
              </div>   
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnoffdevicenode2';">Turn off device 3</button> 
              </div>
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnondevicenode2_2';">Turn on device 4</button>
              </div>
              <div class="col-sm-2">
                <div id="devicecstatus4"> 
                </div>
              </div>             
              <div class="col-sm-2">
                <button onclick="window.location.href = '/turnoffdevicenode2_2';">Turn off device 4</button>
              </div> 
            </div>  
          </div>
        </div>
      </div>  
    </div>   
    <script src="{% static 'js/bootstrap.min.js' %}"></script>  
  </body>
</html>